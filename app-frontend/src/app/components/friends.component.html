<div class="container">
  <h3>Friends</h3>

  <h4 style="color: gray">Add New Friends</h4>
  <mat-form-field style="width: 250px">
    <input
      matInput
      type="text"
      size="50"
      placeholder="Add friend by email"
      minlength="5"
      #search
    />
  </mat-form-field>
  <button
    mat-raised-button
    color="basic"
    type="button"
    (click)="addFriend(search.value)"
    style="margin-left: 20px"
    [disabled]="search.value.length < 5"
  >
    <mat-icon>add</mat-icon>
    Add
  </button>

  <hr />

  <div *ngIf="friends$ | async as friends">
    <h4 style="color: gray">Current Friends ( {{ friends.length }} )</h4>
    <table>
      <tr
        *ngFor="let friend of friends"
        [routerLink]="['/records']"
        [queryParams]="{ friendEmail: friend.email, friendName: friend.name }"
      >
        <td style="width: 20%">
          {{ friend.name | titlecase }}
        </td>
        <td style="border-left: hidden">
          <span style="font-weight: 200; font-style: italic">{{
            friend.email
          }}</span>
        </td>
      </tr>
    </table>
  </div>
</div>
